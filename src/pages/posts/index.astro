---
import { getCollection } from 'astro:content'
import DefaultLayout from '@/layouts/DefaultLayout.astro'
import Heading from '@/components/Heading.astro'
import { Code } from 'astro:components'

const posts = await getCollection('posts')

import '@c/text.scss'
---

<DefaultLayout title="è¨˜äº‹ | ãƒ¯ã‚¤ã®AstroğŸš€ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ">
  <section class="p-page">
    <Heading Hn="h1">è¨˜äº‹</Heading>
    <p>
      <a href="https://docs.astro.build/ja/guides/content-collections/">ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³</a>ã¯ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ã®DBã®ã‚ˆã†ãªã‚‚ã®ã§ã€
      <code>/src/content/</code>ç›´ä¸‹ã®ãƒ•ã‚©ãƒ«ãƒ€ã‚’ã‚°ãƒ«ãƒ¼ãƒ—ã¨ã—ã¦å–å¾—ã§ãã‚‹ã€‚
    </p>
    <p>ä»¥ä¸‹ã®ä¾‹ã§ã¯ã€<code>config.ts</code>ã¯ãƒ•ã‚¡ã‚¤ãƒ«ãªã®ã§ç„¡è¦–ã•ã‚Œã‚‹ï¼ˆã¨ã„ã†ã‹ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã®å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ãŒã€<code>posts</code>ãƒ•ã‚©ãƒ«ãƒ€ã¯ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã®è¦ªã¨ã—ã¦è¨­å®šã§ãã€ã“ã®ä¸­èº«ã‚’ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã®å­ã¨ã—ã¦å–å¾—ã§ãã‚‹ã€‚</p>
    <Code
      lang="console"
      code={`
src/content
â”œâ”€â”€ config.ts
â””â”€â”€ posts
    â”œâ”€â”€ post-1.md
    â”œâ”€â”€ post-2.md
    â”œâ”€â”€ post-3.md
    â””â”€â”€ post-4.md
`}
    />
    <p>è©³ã—ãã¯ä»¥ä¸‹ã®è¨˜äº‹ã‚’å‚ç…§ã—ã¦ã­ã€‚</p>
    <Heading Hn="h2">ç›®æ¬¡</Heading>
    <ol>
      {
        posts.map((post) => (
          <li>
            <a href={`/posts/${post.slug}/`}>{post.data.title}</a>
          </li>
        ))
      }
    </ol>
  </section>
</DefaultLayout>
